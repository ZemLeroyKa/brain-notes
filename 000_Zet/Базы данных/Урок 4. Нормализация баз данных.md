# Целостность данных
Первоочерёдно целостность данных достигается за счёт проработки схем данных и ограничений на ввод информации в эти базы данных.
- `NOT NULL` — ограничение, что в текущий столбец обязательно будут записаны данные. Иначе транзакция будет отменена и СУБД вернёт ошибку. 
- `DEFAULT` — значение по умолчанию. 
- `CHECK` — ограничения с условиями проверки вводимых данных. 
- `UNIQUE` — ограничение на уникальность записанной информации.
- `PRIMARY KEY` — это поле автоматически в системе считается как UNIQUE и NOT NULL.
- `FOREIGN KEY`

# Нормализация
Эта концепция существует в реляционных базах данных.

Нормализованные данные это данные, организованные в структуру, которая обеспечивает целостность информации и сводит к минимуму количество избыточных данных.

Есть **Нормальные формы**. Записываются они сокращённо как 1NF, 2NF, 3NF, BCNF, 4NF, 5NF, DKNF, 6NF.

## Первая нормальная форма (1NF)

Требования к базе данных:
- каждое значение в записи должно быть атомарным (неделимым), то есть любой столбец в таблице, должен содержать только одно значение для каждой строки
- все записи в таблице должны быть разными, даже если в нескольких записях содержится одинаковая информация. *Подразумевается наличие первичного ключа*

## Вторая нормальная форма (2NF)
Функциональная зависимость — при существовании двух полей X и Y, поле X функционально зависит от Y, если с любым значением поля X, всегда связано ровно одно значение поля Y. 
Значения полей X и Y могут изменяться в течение времени, но только таким образом, чтобы любое поле X имело связанно с ним уникальное значение Y. 

X -> Y
Из X следует Y

Полная функциональная зависимость — если *ключевое поле* X состоит из нескольких полей, то *неключевое поле* Y должно функционально полно зависеть от X в целом и не зависеть функционально от какого-либо поля, входящего в него.

Частичная функциональная зависимость — зависимость *неключевого поля* от части составного поля. 

Неключевое поле — столбец, которые не входит в состав ни одного из возможных потенциальных ключей. 


Требования второй нормальной формы:
- таблица должна выполнять условия первой нормальной формы
- все столбцы, которые не входят в первичный ключ, должны зависеть от первичного ключа в целом, то есть должны быть связаны функциональной зависимостью с первичным ключом.

В этот момент таблица разделяется на несколько. 
Например, информация о факультете, группе или банке выносится в таблицы Faculties, Groups, Banks и т.д.

## Третья нормальная форма (3NF)

Транзитивная функциональная зависимость. 
Допустим, в таблице существуют три поля X, Y и Z. Функциональная зависимость между полями X и Z (X -> Z) называется транзитивной, если существуют зависимости между полями X и Y (X -> Y) и полями Y и Z (Y -> Z)

Требования к третьей нормальной форме:
- соответствие второй нормальной форме
- все столбцы, не входящие в первичный ключ, должны функционально зависеть только от первичного ключа и не зависеть от любого другого неключевого столбца.

# Многотабличные запросы
```sql
SELECT Attr_01_A, Attr_01_B, Attr_02_A, Attr_02_B
FROM Table_01, Table_02
WHERE Table_01.ForeignKey_02 = Table_02.ID
```

Если имя атрибута повторяется, то обязательно нужно указывать имя таблицы при написании атрибута. СУБД не поймёт ваш запрос иначе и выдаст ошибку. 

Псевдонимы — AS

Через псевдонимы можем сокращать имена таблиц и переназывать имена столбцов. 


В условии WHERE не обязательно используется равенство. Могут быть и логические операторы

```sql
SELECT Groups.Name AS GroupName, Faculties.Name AS FacultyName
FROM Groups, Faculties
WHERE Groups.Name LIKE '1%' 
	AND Faculties.Id=Groups.FacultyId
	AND Faculties.Name LIKE 'КТУ';
```

## Объединения
UNION 

JOIN 
![[Pasted image 20240905214737.png]]





`SQLore: обучение SQL` - приложения для Андроид и возможно для iPhone, где можно почитать про SQL и теорию баз данных и немного потренироваться. 


