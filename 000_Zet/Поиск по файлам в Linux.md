---
tags: bash
creation-date: 2024-05-23T21:21:55
---
# Поиск по файлам в Linux
## grep
GREP - Global Regular Expression Print
grep - файловый поисковик, который применяют, чтобы искать определённые выражения в файлах. Возвращает строки, в которых встречаются совпадения. 

```bash
grep [Ключ(и)] PATTERN [Адрес]
```

PATTERN - Одно слово или несколько. Для слов разделённых пробелом обязательно использование кавычек!

Найти одно слово line в файле:
```bash
grep line file.txt
```

Пример:
```
"Файлы отслеживаются гитом"
grep "Файлы гитом" run.sh
```
Результат - нет совпадения

Пример:
```
"Файлы отслеживаются гитом"
grep "Файлы отслеживаются" run.sh
```
Результат - строка "Файлы отслеживаются гитом"

> [!info] Ключи - специальные символы, которые влияют на отображение и поиск информации.

### Регистронезависимый поиск
```bash
grep -i line file.txt
```

```bash
grep -i lInE file.txt
```
Результат один и тот же

### Подсчёт строк
Подсчёт строк с текстом в строке. Полезно для исследования логов.
```bash
grep -c line file.txt
```

### Поиск в папке 

```bash
grep -R line directory
```

### Исключение из запроса строк
На выходе получится файл, в котором нет строк включающих в себя текст "Text"
```bash
grep -v "Text" run.sh 
```

### Выдача контекста к строке
Ключи для вывода соседних строк:
*-B, --before* : отобразить количество строк до искомой.
*-A, --after-context* : отобразить количество строк после искомой.
*-C, --context* : отобразить количество строк до и после искомой одновременно.
```bash
$ grep -C 1 commit run.sh
# фиксирую изменения в бд гита
git commit -m "Add command to README"
echo "Изменения зафиксированы гитом"
```

### Примеры сложных вариантов PATTERN
Можно в PATTERN использовать элементы регулярных выражений

Пример с астериском - поиск строки с любым вхождением символов:
```bash
grep -i "pu*" run.sh
```
Подробнее про все особенности использования регулярных выражений в grep https://linuxize.com/post/regular-expressions-in-grep/

Популярные готовые регулярные выражения
https://proglib.io/p/33-regexp



## find

Поиск файлов с именем указанным в кавычках (все изображения png)
```bash
find . -name "*.png"
```

Поиск папок в названии которых первый символ `A`
```bash
find . -type d -name "A*"
```

Найти все файлы с указанным именем, удалить их и в консоль отобразить, что удалили.
```bash
find . -name "*.log" -delete -print
```

